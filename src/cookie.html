<!DOCTYPE html>
<html>

<body>
    <button onclick="setCookie('username',prompt('username:','劣等生'),7)">设置cookie</button>
    <button onclick="alert('Your cookies:' + getCookie('username'))">查看cookie</button>
    <button onclick="checkCookie()">检测cookie</button>
</body>
<script>
    var cookie = [];
    /* 设置cookie，在本地HTML中，cookie必须保存在JS变量中才能使用 */
    function setCookie(cname, cvalue, exdays) {
        var d = new Date();
        d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000));
        var expires = "expires=" + d.toUTCString();
        var url = window.location.href;
        var c = document.cookie = cname + "=" + cvalue + ";" + expires + ";path=/" + ";domin=" + url;
        cookie.push(c);
    }

    /* 获取cookie */
    function getCookie(cname) {
        var name = cname + "=";
        for (var i = 0; i < cookie.length; i++) {
            var ca = cookie[i].split(';');
            for (var j = 0; j < ca.length; j++) {
                var c = ca[j].trim();
                if (c.indexOf(name) != -1)
                    return c.substring(name.length, c.length);
            }
        }
        return "";
    }

    function checkCookie() {
        var username = getCookie("username");
        if (username != "") {
            alert("Welcome again " + username);
        } else {
            username = prompt("Please enter your name:", "");
            if (username != "" && username != null) {
                setCookie("username", username, 365);
            }
        }
    }

</script>

</html>